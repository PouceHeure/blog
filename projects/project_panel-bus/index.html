<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Hugo POUSSEUR</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css><link rel=stylesheet href=https://pouceheure.github.io/blog/css/style.css><link rel=stylesheet href=https://pouceheure.github.io/blog/css/color.css><link rel=stylesheet href=https://pouceheure.github.io/blog/css/markdown.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css><link rel=icon type=image/png sizes=32x32 href=https://pouceheure.github.io/blog/favicon//favicon-32.png><link rel=icon type=image/png sizes=16x16 href=https://pouceheure.github.io/blog/favicon//favicon-16.png><link rel=icon type=image/png sizes=64x64 href=https://pouceheure.github.io/blog/favicon//favicon-64.png><link rel=apple-touch-icon sizes=180x180 href=https://pouceheure.github.io/blog/favicon//apple-touch-icon.png><link rel="shortcut icon" href=https://pouceheure.github.io/blog/favicon//favicon.ico><style>@media(max-width:767.98px){main{margin-top:112px}}@media(min-width:768px){main{margin-top:56px}}</style></head><body class=bg-light><header><nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top bg-primary text-white p-2"><div class="container-fluid px-4 d-flex align-items-center justify-content-between"><a class="navbar-brand fw-bold" href=https://pouceheure.github.io/blog/>Hugo POUSSEUR</a><div class="d-flex align-items-center social-icons ms-md-0 ms-auto"><a href=https://www.linkedin.com/in/hugo-pousseur/ target=_blank class="text-white me-2"><i class="bi bi-linkedin icon-size"></i>
</a><a href=https://github.com/pouceheure/ target=_blank class="text-white me-2"><i class="bi bi-github icon-size"></i>
</a><button type=button class="btn btn-link text-white me-2 p-0" data-bs-toggle=modal data-bs-target=#contactModal>
<i class="bi bi-chat-fill icon-size"></i>
</button>
<a href="https://www.youtube.com/playlist?list=PLGzYzDkg-SZrXPj-0gGwnueRWiMS9GiOM" target=_blank class=text-white><i class="bi bi-youtube icon-size-lg"></i></a></div><div class="collapse navbar-collapse justify-content-end d-none d-md-flex" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class="nav-link text-white fw-bold me-3" href=https://pouceheure.github.io/blog/>Home</a></li><li class=nav-item><a class="nav-link text-white fw-bold me-3" href=https://pouceheure.github.io/blog/projects/>Projects</a></li><li class=nav-item><a class="nav-link text-white fw-bold me-3" href=https://pouceheure.github.io/blog/articles/><span class="d-none d-lg-inline">Scientific </span>Articles</a></li><li class=nav-item><a class="nav-link text-white fw-bold me-3" href=https://pouceheure.github.io/blog/cv/>About</a></li></ul></div></div></nav><nav class="d-flex d-md-none bg-secondary p-2 navbar-dark navbar-custom fixed-top" style=top:56px;z-index:10><div class="container-fluid d-flex justify-content-around"><ul class="navbar-nav flex-row w-100 justify-content-around mb-0"><li class=nav-item><a class="nav-link text-white fw-bold" href=https://pouceheure.github.io/blog/>Home</a></li><li class=nav-item><a class="nav-link text-white fw-bold" href=https://pouceheure.github.io/blog/projects/>Projects</a></li><li class=nav-item><a class="nav-link text-white fw-bold" href=https://pouceheure.github.io/blog/articles/>Articles</a></li><li class=nav-item><a class="nav-link text-white fw-bold" href=https://pouceheure.github.io/blog/cv/>About</a></li></ul></div></nav></header><main class=container><meta name=description content="Display bus panel."><meta name=keywords content="core_technologies"><meta name=author content="Hugo POUSSEUR"><meta property="og:title" content="Panel Bus"><meta property="og:description" content="Display bus panel."><meta property="og:type" content="article"><meta property="og:url" content="https://pouceheure.github.io/blog/projects/project_panel-bus/"><meta property="og:image" content="https://pouceheure.github.io/blog/images/panel-bus/example.png"><link rel=stylesheet href=https://pouceheure.github.io/blog/css/toc.css><link rel=stylesheet href=https://pouceheure.github.io/blog/css/markdown-index.css><div class="container d-flex flex-column flex-md-row align-items-start min-vh-100 gap-4"><aside class="toc d-none d-lg-block toc-sticky" style=width:260px><div class="toc-container p-3 shadow rounded card d-flex flex-column h-100 card-transparent"><h5 class=toc-title><i class="bi bi-journal-richtext me-1"></i> Contents</h5><nav id=TableOfContents><ul><li><a href=#motivation>Motivation</a></li><li><a href=#feature>Feature</a><ul><li><a href=#projection-explained>Projection Explained</a></li></ul></li><li><a href=#code-concept>Code Concept</a></li><li><a href=#api-requests>API Requests</a></li><li><a href=#data>Data</a></li></ul></nav></div></aside><article class="markdown-content flex-grow-1 w-100 w-md-75"><div class="article-header card-transparent p-4 mb-4"><h1 class="text-primary mb-4">Panel Bus</h1><div class="d-flex flex-wrap gap-2"><a href=https://pouceheure.github.io/blog/tags/core_technologies/ class="initial-a btn btn-sm btn-outline-secondary header-badge"><i class="bi bi-tag"></i>
<strong>Core Technologies</strong></a></div><div class=mt-1><span class="btn btn-sm btn-info header-badge" style=pointer-events:none><i class="bi bi-code-slash"></i>
<strong>javascript</strong></span></div><div class=mt-1><a href=https://github.com/PouceHeure/panel-bus rel="noopener noreferrer" class="initial-a btn btn-outline-success header-badge" style=text-decoration:none><span style=text-decoration:underline><i class="bi bi-github"></i></span>
<span style=display:inline-block;width:.25em></span>
<span style=text-decoration:underline>Source Code</span></a></div></div><div class="article-body card-transparent p-4"><div class=content><h2 id=motivation>Motivation</h2><p>Bus schedules are difficult to follow because of uncertain traffic conditions.<br>For this reason, I decided to use the available data to build a tool that allows quick visualization of the schedules for a given station.<br>There is already a developed solution, but it requires several clicks before reaching the information.</p><p>The idea is simple: make the information as raw and as fast to access as possible.<br>The solution is therefore to display the buses of a station directly, accessible through a single link.</p><p><a href="https://pouceheure.github.io/panel-bus/?track=true">Demo</a> works only when the service is ON.</p><figure id=fig-1><img src=https://pouceheure.github.io/blog/images/panel-bus/example.png alt width=800><figcaption>Fig. 1 - Example App.</figcaption></figure><h2 id=feature>Feature</h2><p>By default, the original application provides a 2D projection of the buses.<br>However, I believe this representation is too heavy and makes the information harder to interpret quickly.</p><p>I therefore decided to use the data differently, projecting it into a <strong>one-dimensional space</strong>, similar to a metro line diagram.<br>This way, the information becomes much clearer and easier to understand.</p><figure id=fig-2><img src=https://pouceheure.github.io/blog/images/panel-bus/projection-example.png alt width=800><figcaption>Fig. 2 - Projection Example.</figcaption></figure><h3 id=projection-explained>Projection Explained</h3><ul><li>Traditional bus apps use a <strong>2D map</strong> to show vehicle positions. While accurate, it forces users to interpret distances on a map, zoom in/out, and deal with extra visual clutter.</li><li><strong>Panel Bus</strong> simplifies this by projecting all bus stops onto a <strong>1D axis</strong> (like a metro plan).</li><li>Buses are then placed along this axis depending on their <strong>GPS position</strong> between stations.</li><li>Distances between stops are preserved, so users immediately see:<ul><li>The current position of each bus.</li><li>How far it is from the target station.</li><li>The order of buses along the line.</li></ul></li></ul><p>This projection turns raw geolocation into a <strong>clean, readable timeline of stations and bus movements</strong>.</p><h2 id=code-concept>Code Concept</h2><p>The application is written in <strong>JavaScript</strong> and designed around a few key ideas:</p><ol><li><strong>Fast Access</strong> – Fetch live or scheduled bus data directly from the Oisemob API with a single link.</li><li><strong>Simple Display</strong> – Show upcoming departures in clean cards (line, direction, next times).</li><li><strong>Always Fresh</strong> – Auto-refresh data every 10 seconds, ensuring users see live updates.</li><li><strong>Lightweight Tracking</strong> – Replace a complex 2D map with a <strong>1D metro-style line</strong> to show bus positions clearly and quickly.</li><li><strong>Multilingual Support</strong> – Interface works in both French and English, adapting to the browser or URL.</li><li><strong>Search Module</strong> – Users can search for a station by name and directly access its live departures.</li></ol><h2 id=api-requests>API Requests</h2><p>The app relies on the official <strong>Oisemob API</strong> to fetch live bus data:</p><ul><li><p><strong>Next Departures:</strong><br><code>https://api.oisemob.cityway.fr/media/api/v1/fr/Schedules/LogicalStop/{stationID}/NextDeparture?realTime=true</code></p></li><li><p><strong>Line Stops:</strong><br><code>https://api.oisemob.cityway.fr:443/api/map/v2/GetLineStops/json?Line={lineId}&amp;Direction={directionId}</code></p></li><li><p><strong>Vehicle Positions (WebSocket):</strong><br><code>wss://api.oisemob.cityway.fr/sdh/vehicles</code></p></li><li><p><strong>Station Search:</strong><br><code>https://api.oisemob.cityway.fr/search/all?keywords={query}&amp;maxitems=200&amp;objectTypes=2&amp;includedPoiCategories=3</code></p></li></ul><hr><h2 id=data>Data</h2><p>Data source: <a href=https://www.oise-mobilite.fr/open-data>Oise Mobilité</a>, Etalab v2.0.</p></div></div></article></div><script src=https://pouceheure.github.io/blog/js/highlight-toc.js></script><script src=https://pouceheure.github.io/blog/js/counter-toc.js></script><script src=https://pouceheure.github.io/blog/js/select-toc-part.js></script><script src=https://pouceheure.github.io/blog/js/select-video.js></script></main><div class="modal fade" id=contactModal tabindex=-1 aria-labelledby=contactModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-centered"><div class=modal-content><div class=modal-header><h5 class=modal-title id=contactModalLabel>Contact me</h5><button type=button class=btn-close data-bs-dismiss=modal aria-label=Close></button></div><div class=modal-body><p class=mb-2>Send me email with subject starting by [contact-web]. Email address: click on reveal (avoid bot scrapping).</p><code id=email data-noise=~ data-email="=02~bj5~Cbp~FWb~nBk~c1V~2cz~V3b~w5y~bnV~Ha">=02~bj5~Cbp~FWb~nBk~c1V~2cz~V3b~w5y~bnV~Ha</code><div class=visually-hidden aria-live=polite id=emailLive></div></div><div class=modal-footer><button id=revealEmailBtn class="btn btn-primary">
Reveal Email
</button>
<button type=button class="btn btn-secondary" data-bs-dismiss=modal>
Close</button></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script src=https://pouceheure.github.io/blog/js/setup-latex.js></script><script src=https://pouceheure.github.io/blog/js/highlight-navbar.js></script><script>highlightNavbar("https://pouceheure.github.io/blog/")</script><script src=https://pouceheure.github.io/blog/js/webmail-reveal.js></script></body></html>